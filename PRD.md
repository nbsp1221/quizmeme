# Product Requirements Document – Daily Quiz & Meme Generator

> **Purpose**  This PRD is written **for autonomous AI execution**. All decisions, prioritisation and implementation steps are to be performed by AI agents without human intervention. The website must remain 100 % front‑end (static hosting) while generating ad revenue and delighting users.

---

## 1 Concept & Audience Fit

| Item | Detail |
|------|--------|
| **Core loop** | One 60‑second, 5‑question quiz released at local‑midnight. Completing the quiz renders a tongue‑in‑cheek meme‑style results card that users can download/share. |
| **Rationale** | * Online quizzes show a 28.6 % opt‑in/completion rate ([riddle.com](https://www.riddle.com/blog/news-reviews/company-updates/2024-quiz-marketing-report/)).  
* Wordle sustains ≈ 2 M daily players two years after launch, proving daily‑scarcity puzzle formats retain at scale ([levvvel.com](https://levvvel.com/wordle-statistics/)).  
* Meme sites such as Imgflip log ≈ 8.6 M monthly visits with no login barrier ([similarweb.com](https://www.similarweb.com/website/snopes.com/vs/imgflip.com/?utm_source=chatgpt.com)). |
| **Target segment** | 13–34 yo, mobile‑first, social‑sharing culture (TikTok, Twitter, Discord). |

---

## 2 Monetisation Strategy

### 2.1 Ad Networks & Formats

| Network | Format | Typical Rate | Notes |
|---------|--------|--------------|-------|
| Google AdSense | Responsive display / anchor | CPM ≈ $0.30 – $2 (entertainment niche) ([mile.tech](https://www.mile.tech/blog/adsense-cpm-rates-2024)) | Quick approval, Korean policy docs. |
| Google Ad Manager | H5 Gaming Interstitial | CPM ≈ $4 – $8 ([support.google.com](https://support.google.com/admanager/answer/14640119?hl=en)) | Trigger between quiz and meme. |
| Rewarded Video (AppLixir SDK) | 15‑30 s opt‑in video | eCPM ≈ $10 – $20 ([applixir.com](https://www.applixir.com/blog/how-much-can-you-really-make-with-rewarded-video-ads-2024-edition/)) | Unlock extra meme filters. |
| Taboola Native | Feed widget under gallery | CPC ≈ $0.05 – $0.30 (entertainment) ([taboola.com](https://www.taboola.com/)) | Fallback if AdSense fill < 60 %. |

### 2.2 Front‑End‑Only Integration Checklist
1. Inject AdSense `<script async …>` in `<head>`; define slots after component mount ([mile.tech](https://www.mile.tech/blog/adsense-cpm-rates-2024)).  
2. Load GPT and call `googletag.defineOutOfPageSlot()` for the interstitial ([support.google.com](https://support.google.com/admanager/answer/14640119?hl=en)).  
3. Rewarded video is launched via iframe overlay; CPM fallback logic loops to native feed if no fill in 2 s.  
4. Enforce IAB viewability (≥ 50 % pixels, ≥ 1 s) to maximise revenue ([iab.com](https://www.iab.com/wp-content/uploads/2015/06/MRC-Viewable-Ad-Impression-Measurement-Guideline.pdf)).

---

## 3 Technical Blueprint

| Layer | Choice | Justification |
|-------|--------|---------------|
| UI framework | **Preact + TypeScript** | 4 kB gzipped; JSX support for Cursor autocompletion. |
| Build | **Vite** + PWA plugin | Instant HMR; generates service‑worker for offline cache. |
| Data | `localStorage` + `IndexedDB` | Persist streaks & quiz packs offline—no backend. |
| Hosting | GitHub Pages (100 GB/mo) ([docs.github.com](https://docs.github.com/en/pages/getting-started-with-github-pages/github-pages-limits?utm_source=chatgpt.com)) or Netlify Free (100 GB) ([netlify.com](https://www.netlify.com/pricing/?utm_source=chatgpt.com)) |

### 3.1 Directory Skeleton
```
public/index.html
src/
  components/Quiz.tsx
  components/ResultCard.tsx
  ads/google.ts
  hooks/useStreak.ts
  sw.ts  # generated by Workbox
vite.config.ts
```

### 3.2 Ad Slot Injection (sample)
```ts
// src/ads/google.ts
export function initAds() {
  (window as any).googletag = window.googletag || {cmd: []};
  googletag.cmd.push(() => {
    const intSlot = googletag.defineOutOfPageSlot('/123456/quiz/inter',
      googletag.enums.OutOfPageFormat.GAME_MANUAL_INTERSTITIAL);
    if (intSlot) intSlot.addService(googletag.pubads());
    googletag.enableServices();
  });
}
```

---

## 4 User Experience & Retention Loops
* **Daily streak badge** stored client‑side; colour‑cycles every 7‑day tranche.  
* **Shareables**: Meme image pre‑filled with `#60sQuizChallenge` hashtag.  
* **Push notifications** opt‑in on day 2; sending ≥ 1 push per day improves 90‑day retention by 147 % ([pugpig.com](https://www.pugpig.com/2024/09/17/mobile-matters-guide-push-notifications/)).  
* **PWA offline mode** – PWAs raise conversions 36 % and cut bounce 15 % ([magenest.com](https://magenest.com/en/pwa-statistics/?srsltid=AfmBOooUnEkBVlhyHYvoFTFf2REG5niQwnid5hC8aruMGLgAdYcGuEeg)).  
* **Perf & a11y**: JS payload < 150 kB; ARIA‑labelled buttons; reduced‑motion preference.

---

## 5 Development Timeline (14 calendar days)

| Day | Task | AI Agent Prompt |
|-----|------|----------------|
| 1 | Initialise repo & Vite Preact template | "Create Preact Vite boilerplate" |
| 2 | Design quiz JSON schema | "Generate example JSON for 7 theme packs" |
| 3 | Build Quiz component | Autocomplete JSX |
| 4 | Canvas‑to‑image ResultCard | "Add html2canvas download button" |
| 5 | Streak & local storage logic | "Write unit tests for streak edge‑cases" |
| 6 | Display ad slots | "Insert responsive AdSense banners" |
| 7 | Interstitial trigger | "Wire GPT interstitial on quiz finish" |
| 8 | Rewarded video flow | "Iframe AppLixir rewarded video overlay" |
| 9 | Workbox SW & offline cache | "Generate Vite PWA config" |
| 10 | Push‑notification permission UX | "Add permission modal with fallback" |
| 11 | CI + Netlify deploy | "Write GitHub Actions YAML for Pages & Netlify" |
| 12 | Lighthouse & a11y fixes | "Optimise for mobile 3G <2 s FCP" |
| 13 | Soft‑launch & policy scan | — |
| 14 | Iterate & tag v1.0 | "Generate release notes" |

---

## 6 Growth & Marketing
* **SEO**: Pre‑render quiz titles; target long‑tail “daily nerd quiz” queries.  
* **Social**: Auto‑copy meme; use OG image for link previews.  
* **Community seeding**: Post weekly theme polls on r/webgames (case‑study: Reddit pre‑launch Uplift 20 %) ([docs.github.com](https://docs.github.com/en/pages/getting-started-with-github-pages/github-pages-limits?utm_source=chatgpt.com)).  
* **Metrics** (tracked via Plausible free tier): DAU, 1‑day & 7‑day retention, ad viewability %, share rate.

---

## 7 Risk Assessment & Mitigation
| Risk | Impact | Mitigation |
|------|--------|-----------|
| Ad‑policy breach (kids content / invalid clicks) | AdSense ban | Age gate 13+, reCAPTCHA on share button, weekly Policy Center check ([iab.com](https://www.iab.com/wp-content/uploads/2015/06/MRC-Viewable-Ad-Impression-Measurement-Guideline.pdf)) |
| Low fill / CPM slump | Revenue ↓ | Waterfall → Taboola native if fill < 60 %; run A/B on rewarded frequency. |
| Content fatigue | DAU ↓ | GPT‑generated new quiz packs weekly; user poll input. |
| Mobile perf on low‑end | Bounce ↑ | JS budget, lazy‑load GPT after first question. |
| Bandwidth limits exceeded | Site down | Monitor Netlify analytics; switch to GitHub Pages mirror (100 GB soft limit) ([docs.github.com](https://docs.github.com/en/pages/getting-started-with-github-pages/github-pages-limits?utm_source=chatgpt.com)) |

---

## 8 Acceptance Criteria
1. Static build produces ≤ 200 kB initial JS & ≤ 2 s FCP on Moto G4 emulation.  
2. Daily quiz auto‑rotates without backend.  
3. At least one display ad and one interstitial serve on first session with 95 % viewability.  
4. Offline play works after first visit.  
5. PWA installable and passes Chrome Lighthouse PWA audit score ≥ 90.  
6. Analytics dashboard exposes DAU, retention, and ad metrics.

---

### Footnotes
All numeric claims are supported by external sources cited inline.
